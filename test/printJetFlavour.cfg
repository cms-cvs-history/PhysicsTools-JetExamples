process testJET = {

   include "FWCore/MessageService/data/MessageLogger.cfi"
   replace MessageLogger.cerr.default.limit = 1

   include "SimGeneral/HepPDTESSource/data/pythiapdt.cfi"

   untracked PSet maxEvents = {untracked int32 input = -1}

  source = PoolSource {
    untracked vstring fileNames = {
       "file:/tmp/santocch/ttbar_01.root"
     }
  }

  module caloJetCollectionClone = CaloJetShallowCloneProducer{
    InputTag src = iterativeCone5CaloJets
  }

  module caloJetSele = PtMinCandSelector{
    InputTag src = caloJetCollectionClone
    double ptMin        = 10.0
  }

  module tagJet = CandJetFlavourIdentifier{
    InputTag jets = caloJetSele
    double coneSizeToAssociate = 0.3
    bool physicsDefinition = false
    bool debug = false
    vstring vetoFlavour = {  }
  }

  module printGenEvent = ParticleListDrawer{}

  module printEvent = printJetFlavour {
    InputTag JetPartonMap    = tagJet
    InputTag theJetTagHandle = trackCountingHighEffJetTags
    double ptMin = 10.0     # has to be the same as in PtMinCandSelector
    untracked string HistOutFile = "myPlots.root"

    PSet theHepMCJetId = {
      string mcSource = "source"
      bool fillPartons = true
      bool fillHeavyHadrons = false
      bool fillLeptons =  false
      double coneSizeToAssociate = 0.3
      bool physicsDefinition = flase
      bool rejectBCSplitting = false
      vstring vetoFlavour = {  }
    }
  }

  module printEventNumber = AsciiOutputModule { }
  path p = {caloJetCollectionClone,caloJetSele,tagJet, printEvent }

# Now order modules for execution
  endpath outpath = {printEventNumber}

}

