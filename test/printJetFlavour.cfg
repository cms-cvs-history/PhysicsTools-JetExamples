process testJET = {

   include "FWCore/MessageService/data/MessageLogger.cfi"
   replace MessageLogger.destinations = {"cout"}
# "ERROR" can be changed to "DEBUG" to see more output on the screen
   replace MessageLogger.cout = { untracked string threshold = "ERROR" }

   untracked PSet maxEvents = {untracked int32 input = 10}

# OK for running at CERN
  source = PoolSource {
    untracked vstring fileNames = {
#       '/store/mc/2007/12/2/RelVal-RelValTTbar-1196589957/0000/00EC8DE6-2EA1-DC11-B8F7-003048562A96.root'
       '/store/mc/2007/11/20/RelVal-RelValTTbar-1195585246/0000/025C6F0B-3398-DC11-B9AD-000423D991F0.root'
     }
  }

include "SimGeneral/HepPDTESSource/data/pythiapdt.cfi"

# print the event
#  module printTree = ParticleListDrawer {
#    untracked int32 maxEventsToPrint = 1
#  }

# select the partons for the matching
  module myPartons = PartonSelector{
     bool withLeptons = false
  }

# look for Flavour truth from MC
  module flavourByRef = JetPartonMatcher{
    InputTag jets              = iterativeCone5CaloJets
    InputTag partons           = myPartons
    double coneSizeToAssociate = 0.3  
  }

# look for Flavour truth from MC 
  module flavourByVal = JetFlavourIdentifier{
    InputTag srcByReference = flavourByRef
    bool physicsDefinition     = false
  }

# the anlyzer to print Jet Flavour info
  module printEvent = printJetFlavour {
    InputTag srcSelectedPartons = myPartons
    InputTag srcByReference     = flavourByRef
    InputTag srcByValue         = flavourByVal
}

  module printEventNumber = AsciiOutputModule { }
  path p = { 
#             printTree, 
             myPartons, 
             flavourByRef, 
             flavourByVal, 
             printEvent }

# Now order modules for execution
  endpath outpath = {printEventNumber}

}

