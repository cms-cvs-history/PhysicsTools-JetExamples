process PROD = {
  source = MCFileSource {
    untracked vstring fileNames = { "PythiaWriteHepMC.dat" }
    untracked int32 maxEvents = 10
  }

include "SimGeneral/HepPDTESSource/data/pdt.cfi"

  module genCandidates = HepMCCandidateProducer {
    string src = "MCFileSource"
    bool stableOnly = true
    vstring excludeList = { "nu(e)0", "nu(mu)0", "nu(tau)0", "mu-", "K(L)0", "n0" }
  }

  block common_jet_parameters = {
    untracked int32 debugLevel = 1
    double seedThreshold = 3.0
    double towerThreshold = 1.0
    double coneAreaFraction = 1.0
    int32 maxPairSize = 2
    int32 maxIterations = 100
    double overlapThreshold = .75
  }

  module jets = MidPointJetProducer {
    string src = "genCandidates"
    using common_jet_parameters
    double coneRadius = 0.7    
  }

  module goodJets = CandSelector {
    string src = "jets"
    string cut = "pt > 1.0"
  }

  module jetHisto = JetAnalyzer {
    string src = "goodJets"
    string fileName = "jet-histo.root"
  }

  module evtInfo = AsciiOutputModule { 
  }

  module out = PoolOutputModule {
    untracked string fileName = "mc_jets.root"
  }

  endpath p = { evtInfo, genCandidates, jets, goodJets, jetHisto, out }
}

