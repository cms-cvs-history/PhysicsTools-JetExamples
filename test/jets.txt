process PROD = {
  source = PoolSource { 
    untracked int32 maxEvents = 500
    untracked string fileName = "CaloTowers_HB_HO.root"
  }	    

  module caloTowers = CaloTowerCandidateProducer {
    string src = "towermaker"
  }

  block common_jet_parameters = {
    untracked int32 debugLevel = 1
    double seedThreshold = 3.0
    double towerThreshold = 1.0
    double coneAreaFraction = 1.0
    int32 maxPairSize = 2
    int32 maxIterations = 100
    double overlapThreshold = .75
  }

  module jets = MidPointJetProducer {
    string src = "caloTowers"
    using common_jet_parameters
    double coneRadius = 0.7    
  }

  module goodJets = CandSelector {
    string src = "jets"
    string cut = "pt > 1.0"
  }

  module jetHisto = JetAnalyzer {
    string src = "goodJets"
    string fileName = "jet-histo.root"
  }

  module evtInfo = AsciiOutputModule { 
  }

  module out = PoolOutputModule {
    untracked string fileName = "jets.root"
  }

  endpath p = { evtInfo, caloTowers, jets, goodJets, jetHisto, out }
}

